html,
body {
	background-color: $bg-color-body;
	height: 100%;
}

.wrap {
	background-color: $bg-color-wrap;
	border: 1px solid $border-color-lt;
	margin: -1px auto;
	min-height: 100%; 
}

.site-header {

	padding-top: px( $base-line-height );
	padding-top: rem( $base-line-height );
	border-bottom: 1px solid $border-color-lt;
	
	.site-description {
		margin: px( $base-line-height / -2 ) 0 px( $base-line-height );
		margin: rem( $base-line-height / -2 ) 0 rem( $base-line-height );
	}

}

.river-header {

	border-bottom: 1px solid $border-color-lt;
	margin-bottom: -1px;

	padding: px( $base-line-height ) 0 px( $base-line-height / 2 );
	padding: rem( $base-line-height ) 0 rem( $base-line-height / 2 );

}

.site-footer {

	border-top: 1px solid $border-color-lt;
	margin-top: -1px;

	padding: px( $base-line-height ) 0 px( $base-line-height );
	padding: rem( $base-line-height ) 0 rem( $base-line-height );

}


.entries + .pagination-container { 
	border-top: 1px solid $border-color-lt;
}

.entry {

	@include clearfix;

	border-bottom: 1px solid $border-color-lt;
	margin-bottom: -1px;

	padding: px( $base-line-height ) 0 px( $base-line-height / 2 );
	padding: rem( $base-line-height ) 0 rem( $base-line-height / 2 );

	&:last-child { 
		border-bottom: none; 
	}

	.entry-header {
		margin-bottom: px( $base-line-height / 2 );
		margin-bottom: rem( $base-line-height / 2 );
	}

	.entry-title {
		
		@include beta;
		margin: 0 0 px( $base-line-height / 2) 0;
		margin: 0 0 rem( $base-line-height / 2) 0;

		.genericon {
			height: 1em;
			width: 1em;
			margin-right: px( $grid-col-gutter / 2 );
			margin-right: rem( $grid-col-gutter / 4 );
			font-size: 1.5em;
			vertical-align: middle;
			line-height: 1;
			position: relative;
			top: -2px;
			text-align: center;

			&.genericon-link { font-weight: bold; }
			&.genericon-image { font-size: 1.2em; line-height: 1.25; height: 1.25em; top: -3px; }
		}

	}

	.entry-meta,
	.entry-taxonomies {
	 	color: #999;
		small {
			color: inherit;
		}
		a {
			text-decoration: none;
			color: inherit;
		}
	}

	.entry-thumb {
		
		@extend img.size-thumbnail;
		@extend img.alignleft;
		margin-bottom: px( 1.5 );
		margin-bottom: rem( 1.5 );

		img { 
			max-width: 100%; 
			height: auto; 
			width: 100%; 
			margin: 0;
			vertical-align: top;
		}

	}

	&.format-image .entry-thumb,
	&.format-gallery .entry-thumb,
	&.format-video .entry-thumb { 
		
		@extend img.size-large;
		@extend img.aligncenter;

		iframe, object { 
			vertical-align: top;
			width: 100%;
		}
	}

	&.format-quote blockquote:first-child { 
		margin-top: 0; 
	}

	.entry-post-format {
 		
 		@include clearfix;

 		img { 
			vertical-align: top; 
			margin-bottom: 0;
		}

		iframe { 
			width: 100%;
		}

		.flexslider {
			margin-bottom:  px( $base-line-height / -2 );
			margin-bottom:  rem( $base-line-height / -2 );
		}

		margin-bottom:  px( $base-line-height );
		margin-bottom:  rem( $base-line-height );

	}

	.entry-more-link {
		display: block;
		margin: px( $base-line-height / 2) 0;
		margin: rem( $base-line-height / 2) 0;
	}

	.entry-taxonomy-terms {
		@include small;
		color: $border-color-dk
		
		a { 
			color: inherit; 
		}
	}

	@media all and ( max-width: 900px ) {
		
		.entry-thumb {
			// width: calc( 0.375 * ( 100% + #{ ( $grid-col-gutter * 2 ) }rem ) - #{ ( $grid-col-gutter * 2 ) }rem );
			width: calc( 0.375 * ( 100% + #{ rem( $grid-col-gutter-narrow * 2 ) } ) - #{ rem( $grid-col-gutter-narrow * 2 ) } );
			margin-right: px( $grid-col-gutter-narrow * 2 );
			margin-right: rem( $grid-col-gutter-narrow * 2 );
		}

	}

	@media all and ( max-width: 700px ) {
		
		.entry-thumb {
			width: calc( 0.333333 * ( 100% + #{ rem( $grid-col-gutter-narrow * 2 ) } ) - #{ rem( $grid-col-gutter-narrow * 2 ) } );
			margin-right: px( $grid-col-gutter-narrow * 2 );
			margin-right: rem( $grid-col-gutter-narrow * 2 );
		}

	}

}

.entries-grid {

	.clear { clear: both; display: block; }

	.entry { 
		border-bottom: none;
		clear: none;
	}

	.entry-thumb {
		width: 100%; 
		margin: 0 0 px( $base-line-height / 2 ); 
		margin: 0 0 rem( $base-line-height / 2 ); 
	}


}

@media all and ( max-width: 700px ) {
	.entries-grid.row .entry { width: 50%; }
}

@media all and ( max-width: 500px ) {
	.entries-grid.row .entry { width: 100%; }
}

.single .entry-content {
	margin: 0 0 px( $base-line-height / 2 ); 
	margin: 0 0 rem( $base-line-height / 2 ); 
}

#comments {
	
	clear: both;
	border-top: 1px solid $border-color-lt;
	
	margin-top: px( $base-line-height );
	margin-top: rem( $base-line-height );
	padding-top: px( $base-line-height );
	padding-top: rem( $base-line-height );

	.logged-in-as {
		@include small;
		color: $border-color-dk;
		a { color: inherit; }
	}

}

#respond {
	border-top: 1px solid $border-color-lt;
	padding-top: px( $base-line-height );
	padding-top: rem( $base-line-height );
	#reply-title {
		margin: 0 0 px( $base-line-height / 2 );
		margin: 0 0 rem( $base-line-height / 2 );
	}
}

#comments #respond:first-child { 
	border: none; 
	padding: 0; 
}

.comment #respond { 
	margin-top: rem( $base-line-height / 2); 
}

.commentlist {

	margin: 0;
	list-style: none;

	/* Extend .grid */
	.comment-info,
	.comment-body {
		display: block;
		margin: 0;
		float: left;
		-moz-box-sizing: border-box;
		box-sizing: border-box;
		padding-left: px( $grid-col-gutter );
		padding-left: rem( $grid-col-gutter );
		padding-right: px( $grid-col-gutter );
		padding-right: rem( $grid-col-gutter );
	}

	.avatar {
		display: block;
		width: 100%;
		height: auto;
		img { 
			margin: 0;
		}
	}

	.comment {
		
		@include clearfix;

		padding-top: px( $base-line-height );
		padding-top: rem( $base-line-height );
		
		padding-bottom: px( $base-line-height / 2 );
		padding-bottom: rem( $base-line-height / 2 );

		border-top: 1px solid $border-color-lt;
	
	}

	& > .comment:first-child { 
		border-top: none; 
	}

	.comment-header {
		margin-bottom: px( $base-line-height / 2 );
		margin-bottom: rem( $base-line-height / 2 );

		.comment-author {
			font-weight: bold;
		}

		a { 
			color: inherit; 
			text-decoration: none; 
		}

	}

	.children {
		
		margin: rem( $base-line-height / 2 ) 0 rem( -1 * $base-line-height / 2 ) 0;
		padding-left: 0;		
		list-style: none;
	
	}

	$comment-container-width: 8; // Width of comment container in columns.
	@for $i from 1 through ( $comment-container-width - 2 ) {			
		
		.depth-#{$i} {
			@if $i == 1 {
    			margin-left: 0;
  			} @else {
				margin-left: 1 / ( $comment-container-width + 2 - $i ) * 100%;
				margin-left: calc( #{ 1 / ( $comment-container-width + 2 - $i ) } * ( 100% + #{ ( $grid-col-gutter * 2 ) }rem ) );
			}
		}

		.depth-#{$i} .comment-info {
			width: ( 100% / ( ( $comment-container-width + 1 - $i ) ) ) * 1;
		}
	
		.depth-#{$i} .comment-body {
			width: ( 100% / ( ( $comment-container-width + 1 - $i ) ) ) * ( $comment-container-width - $i );
		}
	
	}

	.reply { 
		@include small;
		margin-bottom: px( $base-line-height / 2 );
		margin-bottom: rem( $base-line-height / 2 );
	}
	
	@media all and ( max-width: 700px ) {

		$comment-container-width: 6; // Width of comment container in columns.
		@for $i from 1 through ( $comment-container-width ) {			
		
			.depth-#{$i} {
				@if $i == 1 {
	    			margin-left: 0;
	  			} @else {
					margin-left: 1 / ( $comment-container-width + 2 - $i ) * 100%;
					margin-left: calc( #{ 1 / ( $comment-container-width + 2 - $i ) } * ( 100% + #{ ( $grid-col-gutter * 2 ) }rem ) );
				}
			}

			.depth-#{$i} .comment-info {
				width: ( 100% / ( ( $comment-container-width + 1 - $i ) ) ) * 1;
			}
		
			.depth-#{$i} .comment-body {
				width: ( 100% / ( ( $comment-container-width + 1 - $i ) ) ) * ( $comment-container-width - $i );
			}
		
		}

	}
	
}

.gallery {
	margin: px( $base-line-height ) 0 0;
	margin: rem( $base-line-height ) 0 0;
	
	img { 
		width: 100% !important; 
		vertical-align: top; 
		top: 0;
	}

	.gallery-item {
		width: 25%;
		display: block;
		margin: 0 0 rem( $base-line-height / 2);
		float: left;
		-moz-box-sizing: border-box;
		box-sizing: border-box; 
		padding: 0 px( $grid-col-gutter );
		padding: 0 #{ $grid-col-gutter }rem;

	}

	&.gallery-size-large .row {
		margin: 0; 
	}

	&.gallery-size-large .gallery-item {
		width: 100%;
		padding: 0;
		margin: 0;
	}

	&.flexslider img { margin: 0; }

}

.widget-area {
	padding: px( $base-line-height ) 0 0;
	padding: rem( $base-line-height ) 0 0;
}

.sidebar .widget {

	padding: px( $base-line-height / 2 ) 0 0;
	padding: rem( $base-line-height / 2 ) 0 0;

	a {
		color: inherit;
		text-decoration: none;
	}

	> ul {
		@include linklist;
	}
}


.main-menu .menu { 
	border-top: 1px solid $border-color-lt; 
}

.menu,
.menu { 

	@include small;
	margin: 0; 
	padding: 0; 

	ul {
		margin: 0; 
		padding: 0; 
	}

	li {
		position: relative; 
		display: inline-block;
	}

	a {
		
		position: relative; 
		display: block; 
		padding: px( $base-line-height / 2 ) 15px;
		padding: rem( $base-line-height / 2 ) 15px;
		text-decoration: none;
		color: inherit;

		&:first-child {
			padding-left: 0;
		}

		&:link,
		&:visited {
			text-decoration: none;
			color: inherit;	
		}

	}

	.sub-menu { 
		display: none; 
		position: absolute; 
		width: 130px; 
		top: 100%; 
		background: #FFF; 
		background: rgba(255,255,255,0.95); 
		border: 1px solid #888; 
		z-index: 100; 

		li {
			display: block;
		}

		a { 
			border-bottom: 1px solid #888; 
		}

		li:first-child a 	{ 
			padding-left: 15px; 
		}
		
		li:last-child a { 
			border: none; 
		}

		.sub-menu { 
			top: -1px; 
			left: 100%;  
		}

	}

	li:hover > .sub-menu,
	li:focus > .sub-menu {
		display: block;
	}

}

#wp-calendar {
	width: 100%;
	
	th,
	td {
		text-align: center; 
		padding-left: 0;
		padding-right: 0;
	}

}

.mejs-controls button { box-shadow: none; }