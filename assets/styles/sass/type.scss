/**
 *
 *	type.css Make sure everything is styled.
 *
 */

body {
	font-family: $base-font-family;
	font-size: px( $base-font-size );
	font-size: rem( $base-font-size );
	line-height: $base-line-height;
	color: #444;
	word-wrap: break-word;
}

@mixin alpha {
	$font-size: $base-font-size * 2.25;
	$line-height: ( $base-line-height * 2 ) / $font-size;

	font-size: px( $font-size );
	font-size: rem( $font-size );
	line-height: $line-height;
	margin: em( $line-height ) 0 em( $line-height / 2 );
}

@mixin beta {
	$font-size: $base-font-size * 1.5;
	$line-height: $base-line-height * 1.5 / $font-size;

	font-size: px( $font-size );
	font-size: rem( $font-size );
	line-height: $line-height;
	margin: em( $line-height / 3 * 2 ) 0 em( $line-height / 3 );
}

@mixin gamma {
	$font-size: $base-font-size * 1.3125;
	$line-height: $base-line-height / $font-size;

	font-size: px( $font-size );
	font-size: rem( $font-size );
	line-height: $line-height;
	margin: em( $line-height / 3 * 2 ) 0 em( $line-height / 3 );
}

@mixin delta {
	$font-size: $base-font-size * 1.125;
	$line-height: $base-line-height / $font-size;

	font-size: px( $font-size );
	font-size: rem( $font-size );
	line-height: $line-height;
	margin: em( $line-height / 3 * 2 ) 0 em( $line-height / 3 );
}

@mixin epsilon {
	$font-size: $base-font-size;
	$line-height: $base-line-height;

	font-size: px( $font-size );
	font-size: rem( $font-size );
	line-height: $line-height;
	margin: em( $line-height / 3 * 2 ) 0 em( $line-height / 3 );
}

@mixin zeta {
	@include epsilon;
}

@mixin small {
	$font-size: $base-font-size * 0.875;
	$line-height: $base-line-height / $font-size;

	font-size: px( $font-size );
	font-size: rem( $font-size );
	line-height: $line-height;
}

p {
	margin-bottom: px( $base-line-height / 2 );
	margin-bottom: rem( $base-line-height / 2 );

	&:empty {
		display: none;
	}
}

ul,
ol,
dl,
address {
	margin: 0 px( $base-line-height ) px( $base-line-height / 2 ) px($base-line-height );
	margin: 0 rem( $base-line-height ) rem( $base-line-height / 2 ) rem($base-line-height );
}

li ul,
li ol {
	margin: 0 0 0 px( $base-line-height );
	margin: 0 0 0 rem( $base-line-height );
}

dl,
dd {
	margin-bottom: px( $base-line-height / 2 );
	margin-bottom: rem( $base-line-height / 2 );
}

dt {
	font-weight: bold;
}

h1, h2, h3,
h4, h5, h6 {
	color: #333;
	font-weight: bold;
}

h1 a, h2 a, h3 a,
h4 a, h5 a, h6 a {
	color: inherit;
	text-decoration: none;
}

h1, .alpha	 { @include alpha; }
h2, .beta    { @include beta; }
h3, .gamma   { @include gamma; }
h4, .delta   { @include delta; }
h6, .epsilon { @include epsilon; }
h6, .zeta    { @include zeta; }

/* Slightly smaller text in the sidebar */
.sidebar {

	font-size: px( $secondary-font-size );
	font-size: rem( $secondary-font-size );
	line-height: $base-line-height;

	color: #666;

	h1,
	h2,
	h3 {
		@include delta;
	}

	h4,
	h5,
	h6 {
		@include epsilon;
	}

}

/** Remove margin on top of first heading to fix excess whitespace. **/
h1:first-child,
h2:first-child,
h3:first-child,
h4:first-child { margin-top: 0 !important; }

small {
	font-size: $secondary-font-size;
	line-height: $base-line-height;
}

strong,
b {
	font-weight: bold;
}

em {
	font-style: italic;
}

blockquote,
.lead-text {
	$font-size: $base-font-size * 1.5;
	$line-height: $base-line-height * 1.5 / $font-size;

	font-size: px( $font-size );
	font-size: rem( $font-size );
	line-height: $line-height;
	margin: px( $base-line-height / 2 ) 0;
	margin: rem( $base-line-height / 2 ) 0;

	font-style: italic;
	font-weight: 300;
}

blockquote {

	padding-left: px( $grid-col-gutter );
	padding-left: rem( $grid-col-gutter );

	margin-left: px( $grid-col-gutter );
	margin-left: rem( $grid-col-gutter );
	
	border-left: 1px solid $border-color-lt;

	p {
		font-size: 1em;
		margin-bottom: rem( $base-line-height / 2 );
	}

}

figure.quote figcaption { 

	margin: px( -1 * $base-line-height / 2 ) 0 px( $base-line-height / 2 )  px( $grid-col-gutter );
	margin: rem( -1 * $base-line-height / 2 ) 0 rem( $base-line-height / 2 )  rem( $grid-col-gutter );

	padding-top: px( $base-line-height / 2 );
	padding-top: rem( $base-line-height / 2 );
	padding-left: px( $grid-col-gutter );
	padding-left: rem( $grid-col-gutter );

	border-left: 1px solid $border-color-lt;

}

pre,
code,
kbd,
tt,
samp {
	font-family: monospace, sans-serif;
}

pre {
	padding: px( $base-line-height ) 20px;
	padding: rem( $base-line-height ) 20px;
	margin-bottom:  px( $base-line-height / 2 );
	margin-bottom:  rem( $base-line-height / 2 );
	white-space: pre;
	white-space: pre-wrap; /* white-space: pre-line; CSS 3 (and 2.1 as well, actually) */
	word-wrap: break-word;
}

ins {
	background-color: #ff9;
	color: #000;
	text-decoration:none;
}

mark {
	background-color: #ff9;
	color: #000;
	font-style:italic;
	font-weight:bold;
}

del {
	text-decoration: line-through;
}

abbr[title],
dfn[title],
acronym[title] {
	border-bottom:1px dotted;
	cursor:help;
}

/**
 * Tables
 */

table					{ 
	border-collapse: separate; 
	border: 1px solid $border-color-lt; 
	position: relative; 
	margin: px( $base-line-height / 2 ) 0 px( $base-line-height / 2 );
	margin: rem( $base-line-height / 2 ) 0 rem( $base-line-height / 2 );
	width: 100%; 
	border-radius: 3px; 
}
th, td					{ line-height: 1.5em; padding: 0.308em 14px 0.308em 10px; text-align:left; }
td .num,
td .num 				{ text-align:center; }

table tbody th,
table td 				{ border-top: 1px solid $border-color-lt; vertical-align: top; }
table th + th,
td + td,
th + td 				{ border-left: 1px solid $border-color-lt; }

table tr:first-child td,
table tr:first-child th { border-top: none; }

table thead tr:first-child th { border-bottom: 1px solid $border-color-lt; }
table tfoot tr:first-child td { border-top: 1px solid $border-color-lt; }

th 						{ background: #EEE; font-weight: bold;  }

caption					{ margin-bottom:0.75em; font-weight: bold; }

small,
nav,
.site-footer			{
	@include small;
	color: #666;
}

@media all and (min-width: 1200px ) {

	body { font-size: 1.125em; }

}

@media all and (max-width: 800px ) {

	body { font-size: .875em; }

}

#baseline-grid {

	width: 100%;
	height: 100%;
	position: absolute;
	top: 0;
	left: 0;

	.baseline-grid-row {
		height: rem( $base-line-height / 2);
		border-bottom: 1px solid rgba(0,255,255,0.5);
		margin-bottom: -1px;
		&:nth-child(odd) {
			border-bottom-color: rgba(0,255,255,0.25);
		}
	}

}

.admin-bar #baseline-grid { margin-top: 28px; }

sup { font-size: .3em; vertical-align: top; }
sub { font-size: .3em; vertical-align: bottom; }